Перед боркой и запуском необходимо отредактировать переменные в файле install_docker.sh. Указать данные socks5 прокси и локальную сеть(в которой находиться docker нода)

Сборка:

  Скачать полностью папку docker и перейти в нее
  
    docker build -t image_name .
    
    docker tag image_name <repo_ip>:<repo_port>/image_name:<version> #Если нужно отправить в сторонний репозиторий
    
    docker push <repo_ip>:<repo_port>/image_name:<version> #Если нужно отправить в сторонний репозиторий
    
Запуск:

    docker run -d --privileged --network host --name squid squid

Контейнер запускается около 5 минут, по окончанию запуска всё будет готово к работе. Нужно будет просто указать машинку, где запущен контейнер как шлюз по умолчанию для клиентов.
